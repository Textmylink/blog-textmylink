---
layout: layouts/base.njk
title: "Latest from the TextMyLink Blog"
description: "News, updates, and best practices from the TextMyLink team."
pagination:
  data: collections.posts
  size: 5
  alias: pagedPosts
permalink: false
eleventyComputed:
  permalink: "{{ '/' if pagination.pageNumber == 0 else '/page/' ~ (pagination.pageNumber + 1) ~ '/' }}"
---
{% block content %}
  {% if pagedPosts and pagedPosts | length %}
    {% set featurePost = pagedPosts[0] %}
    {% set featureImage = featurePost.data.image %}
    {% set featureExcerpt = featurePost.data.description or (featurePost.templateContent | striptags | truncate(260, true, "...")) %}
    <article class="feature-post">
      <a class="feature-post__link" href="{{ featurePost.url }}">
        {% if featureImage %}
          <div class="feature-post__media">
            <img src="{{ featureImage }}" alt="{{ featurePost.data.title }} featured image" loading="lazy">
          </div>
        {% else %}
          <div class="feature-post__media feature-post__media--placeholder">Featured Story</div>
        {% endif %}
        <div class="feature-post__content">
          <p class="feature-post__meta">{{ featurePost.date | readableDate }}</p>
          <h2>{{ featurePost.data.title }}</h2>
          <p>{{ featureExcerpt }}</p>
          <span class="feature-post__cta">Read more &rarr;</span>
        </div>
      </a>
    </article>
  {% endif %}

  {% if pagedPosts | length > 1 %}
    <section class="post-grid">
      {% for post in pagedPosts %}
        {% if not loop.first %}
          {% set cardImage = post.data.image %}
          {% set cardExcerpt = post.data.description or (post.templateContent | striptags | truncate(150, true, "...")) %}
          <article class="post-card">
            <a href="{{ post.url }}">
              {% if cardImage %}
                <div class="post-card__media">
                  <img src="{{ cardImage }}" alt="{{ post.data.title }} teaser image" loading="lazy">
                </div>
              {% else %}
                <div class="post-card__media post-card__media--placeholder">TextMyLink</div>
              {% endif %}
            </a>
            <div class="post-card__body">
              <p class="post-card__meta">{{ post.date | readableDate }}</p>
              <h3><a href="{{ post.url }}">{{ post.data.title }}</a></h3>
              <p class="post-card__excerpt">{{ cardExcerpt }}</p>
              <a class="post-card__link" href="{{ post.url }}">Read more &rarr;</a>
            </div>
          </article>
        {% endif %}
      {% endfor %}
    </section>
  {% else %}
    {% if not pagedPosts or not pagedPosts | length %}
      <p>No posts yet. Check back soon!</p>
    {% endif %}
  {% endif %}

  {% if pagination.href.previous or pagination.href.next %}
    <nav class="pagination" aria-label="Blog pagination">
      {% if pagination.href.previous %}
        <a class="pagination__link pagination__link--newer" href="{{ pagination.href.previous }}">&larr; Newer</a>
      {% else %}
        <span class="pagination__link pagination__link--disabled">&larr; Newer</span>
      {% endif %}
      {% if pagination.href.next %}
        <a class="pagination__link pagination__link--older" href="{{ pagination.href.next }}">Older &rarr;</a>
      {% else %}
        <span class="pagination__link pagination__link--disabled">Older &rarr;</span>
      {% endif %}
    </nav>
  {% endif %}
{% endblock %}
