<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% set canonicalUrl = page.url | toAbsoluteUrl %}
    {% set metaTitle = (seo_title or title or site.title) %}
    {% set rawDescription = (seo_description or description) %}
    {% set autoExcerpt = content | excerpt(155) %}
    {% set metaDescription = (rawDescription | default(autoExcerpt) | default(site.description)) %}
    {% set rawImage = seo_image or image or site.image %}
    {% set metaImage = rawImage | toAbsoluteUrl %}
    {% set metaOgType = og_type or "website" %}
    {% set siteIcon = site.icon or site.organization.logo %}
    <title>{{ metaTitle }}</title>
    {% if metaDescription %}
      <meta name="description" content="{{ metaDescription }}">
    {% endif %}
    <link rel="canonical" href="{{ canonicalUrl }}">
    <meta property="og:site_name" content="{{ site.title }}">
    <meta property="og:type" content="{{ metaOgType }}">
    <meta property="og:title" content="{{ metaTitle }}">
    {% if metaDescription %}
      <meta property="og:description" content="{{ metaDescription }}">
    {% endif %}
    <meta property="og:url" content="{{ canonicalUrl }}">
    {% if metaImage %}
      <meta property="og:image" content="{{ metaImage }}">
      <meta property="og:image:secure_url" content="{{ metaImage }}">
      <meta property="og:image:alt" content="{{ metaTitle }}">
      <meta name="twitter:image" content="{{ metaImage }}">
      <meta name="twitter:image:alt" content="{{ metaTitle }}">
    {% endif %}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ metaTitle }}">
    {% if metaDescription %}
      <meta name="twitter:description" content="{{ metaDescription }}">
    {% endif %}
    <link rel="alternate" type="application/rss+xml" title="{{ site.title }} RSS" href="/feed.xml">
    {% if siteIcon %}
      <link rel="icon" type="image/png" sizes="32x32" href="{{ siteIcon }}">
      <link rel="icon" type="image/png" sizes="192x192" href="{{ siteIcon }}">
      <link rel="apple-touch-icon" sizes="180x180" href="{{ siteIcon }}">
      <link rel="shortcut icon" href="{{ siteIcon }}">
    {% endif %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/theme.css">

    {% block head %}{% endblock %}
  </head>
  <body>
    <header class="site-header">
      <div class="container site-header__inner">
        <a class="site-title" href="/">TextMyLink Blog</a>
        <nav class="primary-nav" aria-label="Primary">
          <ul class="nav-links">
            <li><a href="/">Blog</a></li>
            <li><a href="/about/">About</a></li>
            <li><a href="/write-for-us/">Write for Us</a></li>
            <li><a href="/contact/">Contact</a></li>
            <li><a href="https://textmylink.com" target="_blank" rel="noopener noreferrer">Our Address Collection App</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <main id="main-content" class="site-main container">
      {% block content %}{{ content | safe }}{% endblock %}
    </main>
    <footer class="site-footer">
      <div class="container">
        <p>&copy; {{ site.organization.name }} {{ currentYear }}. All rights reserved.</p>
      </div>
    </footer>
    <script src="/static/js/site-header.js" defer></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script>
      if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", function (user) {
          if (!user) {
            window.netlifyIdentity.on("login", function () {
              document.location.href = "/admin/";
            });
          }
        });
      }
    </script>
    {% block scripts %}{% endblock %}
  </body>
</html>
